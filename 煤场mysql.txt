SELECT
	tu.cUserName as username ,
	tu.mobile as phone,
	tr.cDspName as userrole
	tc.cCustomerName as customername,
	td.DeptName as department,
  tu.memo as remark  
FROM
	t_user tu
	INNER JOIN t_userrole tr ON tu.iPopedom = tr.iPopedom
	INNER JOIN t_customer tc ON tu.iCustomerID = tc.iCustomerID
	INNER JOIN t_dept td ON td.iDeptID = tu.iDeptID
	WHERE tu.cUserName='kf'


查询用户用户信息

  SELECT
    tu.cUserName as username ,
    tu.mobile as phone,
    tr.cDspName as userrole,
    tc.cCustomerName as customername,
    td.DeptName as department,
    tu.memo as remark
    FROM
    t_user tu
    INNER JOIN t_userrole tr ON tu.iPopedom = tr.iPopedom
    INNER JOIN t_customer tc ON tu.iCustomerID = tc.iCustomerID
    INNER JOIN t_dept td ON td.iDeptID = tu.iDeptID
    WHERE 1=1
    <if test="cusername!=null">
     and tu.cUserName=#{cusername,jdbcType=VARCHAR}</if>   

删除所有客户信息


delete from t_user
    where ID = 31




<客户查询>

SELECT * from t_customer

<部门查询>

SELECT * from t_dept


<操作日志查询>

SELECT
	tu.cUserName AS userName,
	top.operationDate AS operationdate
	top.tAction AS taction,
	top.tUrl AS turl,
	top.`status` AS `status` 
FROM
	t_operation_log top
	INNER JOIN t_user tu ON top.operationUserID = tu.iUserID


--------------------------------------------------------------------------------------------
SELECT
	tu.cUserName AS userName,
	top.operationDate AS operationdate,
	top.tAction AS taction,
	top.tUrl AS turl,
	top.`status` AS `status` 
FROM
	t_operation_log top
	INNER JOIN t_user tu ON top.operationUserID = tu.iUserID


------------------------------------------------------------------------------------------------
查询日志记录
SELECT
	tu.cUserName AS username,
	top.operationDate AS operationdate,
	top.tUrlName AS turlname,
	top.`status` AS `status` 
FROM
	t_operation_log top
	INNER JOIN t_user tu ON tu.iUserID = top.operationUserID 
WHERE
	1 = 1 
	AND top.operationDate BETWEEN '2019-12-11 16:31:30' 
	AND '2019-12-11 16:31:35' 
	AND tu.cUserName = 'erw'

查询监测点设备状态
SELECT
	td.`name`,
	td.`status`,
	td.site,
	tdt.`name` AS dtname,
	tc.cCustomerName 
FROM
	t_dev td
	INNER JOIN t_dev_type tdt ON td.type = tdt.id
	INNER JOIN t_customer tc ON td.customer = tc.iCustomerID 
WHERE
	td.id =3
